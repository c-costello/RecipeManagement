@model RecipeManager.Models.Recipe
@using RecipeManager.Models
@{
    ViewData["Title"] = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Details</h2>

<p><span> Title: </span>@Model.Title</p>
<p><span> Serving Size: </span>@Model.ServingSize</p>
<p><span> Cook Time: </span>@Model.CookTime</p>
<p><span> Description: </span>@Model.Description</p>
<p><span> Notes: </span>@Model.Notes</p>
<table class="ingr-table">
    <thead>
        <tr>
            <th>Name</th>
            <th>Quantity</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody class="ingredients">
        @for (int i = 0; i < Model.Ingredients.Count(); i++)
        {
            <tr>
                <td>
                    @Model.Ingredients[i].Name
                </td>
                <td>
                    @Model.Ingredients[i].Quantity
                </td>
                <td>
                    @Model.Ingredients[i].Notes
                </td>
            </tr>
        }
    </tbody>
</table>

<table>
    <thead>
        <tr>
            <th> Step Number</th>
            <th> Instruction</th>
        </tr>
    </thead>
    <tbody class="instructions">

        @for (int i = 0; i < Model.Instructions.Count(); i++)
        {
            <tr>
                <td>
                    @Model.Instructions[i].StepNumber
                </td>
                <td>
                    @Model.Instructions[i].Detail
                </td>
            </tr>
        }

    </tbody>
</table>
@if (@Model.IsSaved)
{
    <a href="~/SavedRecipes/Remove/@Model.ID">Remove</a>
}
else
{
<a href="~/SavedRecipes/Save/@Model.ID"> Save</a>
}
@if(User.Identity.Name == Model.Author)
{
<a href="~/Recipes/Edit/@Model.ID">Edit</a>
}
