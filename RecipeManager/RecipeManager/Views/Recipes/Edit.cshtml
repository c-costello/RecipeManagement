@model RecipeManager.Models.Recipe
@using RecipeManager.Models
@{
    ViewData["Title"] = "Edit";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>Edit</h1>
<span class="hidden final-inst-count">@Model.Instructions.Count()</span>
<span class="hidden final-ing-count">@Model.Instructions.Count()</span>
<form method="post">

    <div class="recipe-form-input">
        <label asp-for="@Model.Title"></label>
        <input asp-for="@Model.Title" />
    </div>
    <div class="recipe-form-input">
        <label asp-for="@Model.ServingSize"></label>
        <input asp-for="@Model.ServingSize" />
    </div>
    <div class="recipe-form-input">
        <label asp-for="@Model.CookTime"></label>
        <input asp-for="@Model.CookTime" />
    </div>
    <div class="recipe-form-input">
        <label asp-for="@Model.Description"></label>
        <input asp-for="@Model.Description" />
    </div>
    <div class="recipe-form-input">
        <label asp-for="@Model.Notes"></label>
        <input asp-for="@Model.Notes" />
    </div>
    <table class="ingr-table">
        <thead>
            <tr>
                <th>Name</th>
                <th>Quantity</th>
                <th>Notes</th>
            </tr>
        </thead>
        <tbody class="ingredients">
            @for (int i = 0; i < Model.Ingredients.Count(); i++)
            {
                <tr>
                    <td>
                        <input asp-for="@Model.Ingredients[i].Name" />
                    </td>
                    <td>
                        <input asp-for="@Model.Ingredients[i].Quantity" />
                    </td>
                    <td>
                        <input asp-for="@Model.Ingredients[i].Notes" />
                    </td>
                </tr>
            }
        </tbody>
    </table>
    <p class="ingredient-adder">+Ingredient</p>
    <table>
        <thead>
            <tr>
                <th> Step Number</th>
                <th> Instruction</th>
            </tr>
        </thead>
        <tbody class="instructions">

            @for (int i = 0; i < Model.Instructions.Count(); i++)
            {
                <tr>
                    <td>
                        <input type="number" asp-for="@Model.Instructions[i].StepNumber" value="@Model.Instructions[i].StepNumber" />
                    </td>
                    <td>
                        <input asp-for="@Model.Instructions[i].Detail" />
                    </td>
                </tr>
            }

        </tbody>
    </table>
    <p class="instruction-adder">+Instruction</p>
    <button type="submit">Submit</button>
</form>

